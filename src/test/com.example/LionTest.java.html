<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>LionTest.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jacoco.exec</a> &gt; <a href="index.source.html" class="el_package">com.example</a> &gt; <span class="el_source">LionTest.java</span></div><h1>LionTest.java</h1><pre class="source lang-java linenums">package com.example;

import org.junit.Assert;
import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.ExpectedException;
import org.junit.runner.RunWith;
import org.mockito.Mock;
import org.mockito.Mockito;
import org.mockito.junit.MockitoJUnitRunner;

import java.util.List;

import static org.mockito.Mockito.spy;

@RunWith(MockitoJUnitRunner.class)
<span class="fc" id="L17">public class LionTest {</span>

    @Mock
    Feline feline; // создали мок

    // Проверяет метод doesHaveMane. У &quot;самки&quot; не должно быть гривы.
    @Test
    public void doesHaveManeFemaleLionShouldNotHaveManeTest() throws Exception {

<span class="fc" id="L26">        Lion lion = new Lion(&quot;Самка&quot;, this.feline);</span>
<span class="fc" id="L27">        Assert.assertFalse(&quot;Должно вернуться false, по факту возвращается true&quot;, lion.doesHaveMane());</span>
<span class="fc" id="L28">    }</span>

    // Проверяет метод doesHaveMane. У &quot;самца&quot; должна быть гривы.
    @Test
    public void doesHaveManeMaleLionShouldHaveManeTest() throws Exception {

<span class="fc" id="L34">        Lion lion = new Lion(&quot;Самец&quot;, feline);</span>
<span class="fc" id="L35">        Assert.assertTrue(&quot;Должно вернуться true, по факту возвращается false&quot;, lion.doesHaveMane());</span>
<span class="fc" id="L36">    }</span>

    // Проверяет, что метод getKittens класса Lion работает
    @Test
    public void getKittenShouldReturnCountsOfKittensTest() throws Exception {

<span class="fc" id="L42">        Feline feline = spy(new Feline());</span>
<span class="fc" id="L43">        Mockito.when(feline.getKittens()).thenReturn(1);</span>
<span class="fc" id="L44">        feline.getKittens();</span>
<span class="fc" id="L45">        int expectedKittensCount = 1;</span>
<span class="fc" id="L46">        Assert.assertEquals(&quot;Ожидаемое количество котят 1, по факту возвращается &quot; + feline.getKittens(),</span>
<span class="fc" id="L47">                expectedKittensCount, feline.getKittens());</span>
<span class="fc" id="L48">    }</span>

    // Проверяет кол-во котят
    @Test
    public void getKittensReturnsCountTest() throws Exception {

<span class="fc" id="L54">        Feline feline = new Feline();</span>
<span class="fc" id="L55">        Lion lion = new Lion(&quot;Самец&quot;, feline); // после ревью добавил пол &quot;Самец&quot; при создании экземпляра</span>

<span class="fc" id="L57">        int expectedCountOfKittens = 1;</span>
<span class="fc" id="L58">        int actualCountOfKittens = lion.getKittens();</span>

<span class="fc" id="L60">        Assert.assertEquals(&quot;Ожидаемое количество котят 1, по факту возвращается &quot; + actualCountOfKittens,</span>
                expectedCountOfKittens, actualCountOfKittens);
<span class="fc" id="L62">    }</span>

    // проверка метода getFood в классе Lion
    @Test
    public void getFoodReturnsFoodListTest() throws Exception {

<span class="fc" id="L68">        Feline feline = spy(new Feline());</span>
<span class="fc" id="L69">        Mockito.when(feline.getFood(&quot;Хищник&quot;)).thenReturn(List.of(&quot;Животные&quot;, &quot;Птицы&quot;, &quot;Рыба&quot;));</span>
<span class="fc" id="L70">        List&lt;String&gt; expectedFoodList = List.of(&quot;Животные&quot;, &quot;Птицы&quot;, &quot;Рыба&quot;);</span>
<span class="fc" id="L71">        List&lt;String&gt; actualFoodList = feline.getFood(&quot;Хищник&quot;);</span>
        // Чтобы не копипастить 'Животные, Птицы, Рыба'
        // можно написать expectedFoodList.toString() и добавить это в текст ошибки
<span class="fc" id="L74">        Assert.assertEquals(&quot;Должен вернуться список&quot; + expectedFoodList.toString() +</span>
                        &quot;, фактически возвращается &quot; + actualFoodList, expectedFoodList, actualFoodList);
<span class="fc" id="L76">    }</span>

    // Тест проверяет исключение при создании объекта класса Lion, если не указать &quot;Самец&quot; это или &quot;Самка&quot;
    @Test(expected = Exception.class)
    public void lionInvalidValueOfSexExceptionTest() throws Exception {

<span class="nc" id="L82">        Lion lion = new Lion(&quot;Еще не определился&quot;, this.feline);</span>
<span class="nc" id="L83">        lion.doesHaveMane();</span>
<span class="nc" id="L84">    }</span>

    // Проверяет, что списое еды льва &quot;Животные&quot;, &quot;Птицы&quot;, &quot;Рыба&quot;
    @Test
    public void getFoodReturnsPredatorFoodListTest() throws Exception {

<span class="fc" id="L90">        Feline feline = spy(new Feline());</span>
<span class="fc" id="L91">        Lion lion = new Lion(&quot;Самец&quot;, feline);</span>

<span class="fc" id="L93">        List&lt;String&gt; expectedFoodList = List.of(&quot;Животные&quot;, &quot;Птицы&quot;, &quot;Рыба&quot;);</span>
<span class="fc" id="L94">        List&lt;String&gt; actualFoodList = lion.getFood(&quot;Хищник&quot;);</span>

<span class="fc" id="L96">        lion.getFood();</span>

<span class="fc" id="L98">        Assert.assertEquals(expectedFoodList, actualFoodList);</span>
<span class="fc" id="L99">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>